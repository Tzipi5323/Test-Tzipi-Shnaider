# AI Drawing Bot – Fullstack Application

## Overview
AI Drawing Bot is a fullstack web application that enables users to generate drawings on a canvas using natural language prompts. The system leverages a Large Language Model (LLM, e.g., OpenAI GPT) to convert free-text drawing instructions into structured JSON drawing commands, which are then rendered on a React-based canvas. Drawings and their commands are stored and managed via an ASP.NET Core API and a SQLite database.

## Features
- **Natural Language Drawing**: Users can enter free-text prompts (e.g., "Draw a yellow sun") and receive an automatic drawing generated by the LLM.
- **LLM-Powered Prompt Decoding**: The backend integrates with OpenAI's GPT API to convert prompts into JSON drawing commands.
- **Interactive Canvas**: The client renders drawing commands (circles, rectangles, lines, triangles, etc.) on an HTML5 canvas.
- **Drawing Management**: Save, load, and manage drawings by name and user association.
- **Undo/Redo & Clear**: Full support for undo, redo, and clearing the canvas.
- **User Association**: Drawings are linked to users for personalized management.
- **Robust API**: ASP.NET Core backend exposes endpoints for prompt decoding, drawing management, and command history.

## Technology Stack
- **Frontend**: React, TypeScript, Vite
- **Backend**: ASP.NET Core (C#), Entity Framework Core (SQLite)
- **LLM Integration**: OpenAI GPT (via REST API)
- **Database**: SQLite

## Project Structure
```
client/           # React frontend
  src/
    components/   # UI components (CanvasDraw, Toolbar, PromptInput, etc.)
    api.ts        # API calls to backend
    types.ts      # Drawing command types
server/           # ASP.NET Core backend
  Controllers/    # API controllers (Drawings, DrawingCommands, Llm)
  Data/           # EF Core DbContext
  Models/         # Data models (Drawing, DrawingCommand, etc.)
  Migrations/     # Database migrations
```

## Setup & Usage
### Prerequisites
- Node.js (v18+ recommended)
- .NET 8 SDK
- (Optional) OpenAI API Key for LLM integration

### 1. Clone the Repository
```sh
git clone https://github.com/Tzipi5323/Test-Tzipi-Shnaider.git
cd Test-Tzipi-Shnaider
```

### 2. Backend Setup
```sh
cd server
# Restore dependencies
 dotnet restore
# Apply migrations (if needed)
dotnet ef database update
# Run the server
dotnet run
```

- The backend will start on `https://localhost:5042` (default).
- To enable LLM integration, set your OpenAI API key in `LlmController.cs` (replace `YOUR_OPENAI_API_KEY`).

### 3. Frontend Setup
```sh
cd ../client
npm install
npm run dev
```
- The frontend will start on `http://localhost:5175`.

### 4. Usage
- Enter a drawing prompt in natural language (e.g., "Draw a blue rectangle and a red circle").
- Use the toolbar to undo, redo, clear, save, or load drawings.
- Saved drawings are associated with the current user.

## API Endpoints (Backend)
- `POST /api/Llm/draw` – Decode prompt to drawing commands (calls OpenAI API)
- `POST /api/Drawings` – Save a new drawing
- `GET /api/Drawings/{id}` – Load a drawing by ID
- `GET /api/Drawings/user/{userId}` – Get all drawings for a user
- `POST /api/DrawingCommands` – Add a drawing command
- `DELETE /api/DrawingCommands/undo/{drawingId}` – Undo last command
- `POST /api/DrawingCommands/redo/{drawingId}` – Redo last undone command

## Customization
- To use a different LLM provider (e.g., Google Gemini), update the logic in `LlmController.cs`.
- Drawing command types can be extended in `client/src/types.ts` and `CanvasDraw.tsx`.

## License
This project is for demonstration and educational purposes.

---

*Developed by Tzipi Shnaider, 2025.*
